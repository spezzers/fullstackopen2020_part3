(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{16:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(15),c=n.n(u),o=(n(6),n(4)),l=n(2),i=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Add new"),r.a.createElement("form",{onSubmit:e.onSubmit},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.nameValue,onChange:e.nameInput})),r.a.createElement("div",null,"number:"," ",r.a.createElement("input",{value:e.numberValue,onChange:e.numberInput})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},m=function(e){return r.a.createElement("div",null,"filter: ",r.a.createElement("input",{value:e.value,onChange:e.onChange}))},f=function(e){var t=e.peeps,n=e.filter,a=e.remove,u=t.filter((function(e){return e.name.toUpperCase().includes(n.toUpperCase())})).map((function(e){return r.a.createElement("div",{key:e.id},"".concat(e.name," ").concat(e.number),r.a.createElement("button",{id:e.id,onClick:a},"Delete"))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Numbers"),u)},d=n(3),p=n.n(d),s="/api/persons",b=function(){return p.a.get(s).then((function(e){return e.data}))},h=function(e){return p.a.post(s,e).then((function(e){return e.data}))},v=function(e){return p.a.delete("".concat(s,"/").concat(e))},E=function(e,t){return p.a.put("".concat(s,"/").concat(e),t).then((function(e){return e.data}))},g=function(e){var t=e.type,n=e.content;return null===n?null:r.a.createElement("div",{className:t},n)},y=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(""),d=Object(l.a)(c,2),p=d[0],s=d[1],y=Object(a.useState)(""),j=Object(l.a)(y,2),O=j[0],C=j[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),w=k[0],I=k[1],U=Object(a.useState)({type:"",content:""}),D=Object(l.a)(U,2),V=D[0],A=D[1];Object(a.useEffect)((function(){b().then((function(e){u(e)}))}),[]);var F=function(){s(""),C("")},J=function(e,t,n){var a=n||4e3;A({type:e,content:t}),setTimeout((function(){return A({type:"",content:""})}),a)};return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(g,{type:V.type,content:V.content}),r.a.createElement(m,{value:w,onChange:function(e){return I(e.target.value)}}),r.a.createElement(i,{nameValue:p,nameInput:function(e){return s(e.target.value)},numberValue:O,numberInput:function(e){return C(e.target.value)},onSubmit:function(e){e.preventDefault();var t=n.filter((function(e){return e.name.toUpperCase()===p.toUpperCase()})),a=t[0];if(t.length>0){if(window.confirm("'".concat(p,"' is already in the phonebook, update number?"))){var r=Object(o.a)(Object(o.a)({},a),{},{number:O});E(a.id,r).then((function(e){u(n.map((function(t){return t.id!==a.id?t:e}))),J("success","Updated ".concat(e.name)),F()})).catch((function(e){return J("error",e.response.data)}))}}else h({name:p,number:O}).then((function(e){u(n.concat(e)),J("success","Added ".concat(e.name)),F()})).catch((function(e){return J("error",e.response.data)}))}}),r.a.createElement(f,{peeps:n,filter:w,remove:function(e){var t=e.target.id,a=n.filter((function(e){return e.id===t}))[0];window.confirm("Do you really want to delete ".concat(a.name))&&v(t).then((function(){u(n.filter((function(e){return e.id!==t}))),J("notify","Deleted ".concat(a.name))})).catch((function(e){u(n.filter((function(e){return e.id!==t}))),J("error","".concat(a.name," already deleted from the server"))}))}}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root"))},6:function(e,t,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.c9d75f55.chunk.js.map